<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/knockout/3.5.1/knockout-latest.min.js" integrity="sha512-vs7+jbztHoMto5Yd/yinM4/y2DOkPLt0fATcN+j+G4ANY2z4faIzZIOMkpBmWdcxt+596FemCh9M18NUJTZwvw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootswatch@5.1.1/dist/zephyr/bootstrap.min.css" integrity="sha256-fPcXOlGMPTfMzh2hrJPeYWulsKXYdIssk5VBAbZEUMI=" crossorigin="anonymous">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
    <title>SARS2-Typer</title>

    
</head>
<body>

    <style type="text/css">
        .present {background-color: green !important; color: white !important;}
        </style>

    <nav class="navbar navbar-expand-lg navbar-dark bg-primary" style="margin-bottom: 15px;">
        <div class="container-fluid">
          <a class="navbar-brand" href="#">SARS2-Typer</a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarColor01" aria-controls="navbarColor01" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
      
          
        </div>
    </nav>


    <div class="alert alert-dismissible alert-warning fade show">
        <button type="button" class="btn-close" data-bind='click:dismissAlert'></button>
        <h4 class="alert-heading">Disclaimer</h4>
        <p class="mb-0">The information contained on this site is for informational purposes only. Material on this site is not intended to be used to make medical diagnosis or treatment decisions or any other decisions involved in the management of COVID-19 infected individuals or individuals that they may have contacted. The content of this site was gathered from multiple, publicly-accessible resources. The material presented at this site may be subject to inaccuracies inherent in the original data, or accrued during collation of data, or its electronic manipulation. Many previously described variants and subvariants of SARS-CoV-2 are not included in the SARS2-TYPER. The list is based on common variants and subvariants currently or previously circulating in the United States. Future emerging variants and subvariants and mutations may or may not be added to the SARS2-TYPER. Users are permitted to copy and use the open-source code for this site for other purposes with the understanding that the authors of the SARS2-TYPER will not be held liable for its content or functionality.</p>
      </div>

    
    <div> <strong>Codons 0 - 200</strong></div>
    <div class="container-fluid" style="margin-bottom: 5px;">
        <div data-bind="foreach: Array1">
            <button type="button" class="btn btn-outline-primary" data-bind="text: name, 
                                                                             css: {active: selected},
                                                                             click: $parent.toggleSelected"
                                                                             style="padding-right: 8px;
                                                                             padding-left: 8px;
                                                                             padding-top: 4px;
                                                                             padding-bottom: 4px;"></button>
        </div>
    </div>

    <div> <strong>Codons 201 - 400</strong></div>
    <div class="container-fluid" style="margin-bottom: 5px;">
        <div data-bind="foreach: Array2">
            <button type="button" class="btn btn-outline-primary" data-bind="text: name, 
                                                                             css: {active: selected},
                                                                             click: $parent.toggleSelected"
                                                                             style="padding-right: 8px;
                                                                             padding-left: 8px;
                                                                             padding-top: 4px;
                                                                             padding-bottom: 4px;"></button>
        </div>
    </div>

    <div> <strong>Codons 401 - 600</strong></div>
    <div class="container-fluid" style="margin-bottom: 5px;">
        <div data-bind="foreach: Array3">
            <button type="button" class="btn btn-outline-primary" data-bind="text: name, 
                                                                             css: {active: selected},
                                                                             click: $parent.toggleSelected"
                                                                             style="padding-right: 8px;
                                                                             padding-left: 8px;
                                                                             padding-top: 4px;
                                                                             padding-bottom: 4px;"></button>
        </div>
    </div>

    <div> <strong>Codons 601 - 800</strong></div>
    <div class="container-fluid" style="margin-bottom: 5px;">
        <div data-bind="foreach: Array4">
            <button type="button" class="btn btn-outline-primary" data-bind="text: name, 
                                                                             css: {active: selected},
                                                                             click: $parent.toggleSelected"
                                                                             style="padding-right: 8px;
                                                                             padding-left: 8px;
                                                                             padding-top: 4px;
                                                                             padding-bottom: 4px;"></button>
        </div>
    </div>

    <div> <strong>Codons 800+</strong></div>
    <div class="container-fluid" style="margin-bottom: 5px;">
        <div data-bind="foreach: Array5">
            <button type="button" class="btn btn-outline-primary" data-bind="text: name, 
                                                                             css: {active: selected},
                                                                             click: $parent.toggleSelected"
                                                                             style="padding-right: 8px;
                                                                             padding-left: 8px;
                                                                             padding-top: 4px;
                                                                             padding-bottom: 4px;"></button>
        </div>
    </div>

    <div class="container-fluid" data-bind="visible: bestFit().length > 0">
        <!-- <div class="row">
            <div class="col-2">
                <div class="card text-white bg-info mb-3" >
                    <div class="card-header"><h4 style="color:inherit">Mutations</h4></div>
                    <div class="card-body">
                        <h4 class="card-title">Identified:</h4>
                        <div data-bind="foreach: mutations">
                            <p class="card-text" data-bind="text: name, visible: selected"></p>
                        </div>
                    </div>
                </div>
            </div> -->
            <div class="col-10">
                <div class="card bg-secondary mb-3" style="width: fit-content;">
                    <div class="card-header">
                        <h4 style="color:inherit">Best-Fit Variant(s)</h4>
                        <small>() denotes an optional or low prevalence mutation</small>
                    </div>
                    <div class="card-body">
                        <h4 class="card-title"></h4>
                        <div data-bind="foreach: bestFit">
                            <p class="card-text" data-bind="text: display"></p>                          
                            <table class="table table-hover">
                                <tbody>
                                    <tr data-bind="foreach: lineage.mutations">
                                        <!-- <td data-bind="text: $data"></td> -->
                                        <td data-bind="text: $data, css: {'present': $parents[1].mutations().find(mut => mut.name == $data.replaceAll(/[()]/g,'')).selected()}"></td>
                                        <!-- <p data-bind="text: $parent.mutations()[0].name"></p> -->
                                      </tr>
                                </tbody> 
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="accordion" id="IncludeVars">
            <div class="accordion-item">
              <h2 class="accordion-header" id="headingOne">
                <button class="accordion-button" data-bind="click:toggleAcc, css: {collapsed: showAcc}" >
                  Include/Exclude Variants
                </button>
              </h2>
              <div id="collapseOne" class="accordion-collapse collapse" data-bind="class: accStatus">
                <div class="accordion-body">
                    <table class="table table-hover">
                        <tbody data-bind="foreach: activeList">
                            <tr>
                                <td>
                                    <input class="form-check-input" type="checkbox" data-bind="checked: status" />
                                    <label class="form-check-label" data-bind="text: name"></label>
                                </td>
                                <!-- <td data-bind="text: name + status"></td> -->
                            </tr>
                        </tbody> 
                    </table>
                </div>
              </div>
            </div>
          </div>
    </div>
   
</body>
<script src="covid.js"></script>
</html>